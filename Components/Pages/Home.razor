@page "/"
@using CodelineStore.Data.Model
@using Microsoft.EntityFrameworkCore
@using CodelineStore.Data
@using MudBlazor
@inject NavigationManager Navigation
@inject ApplicationDbContext DbContext

<PageTitle>Codeline Store</PageTitle>

<MudCarousel Class="mud-width-full" Style="height:350px;" ShowArrows="@arrows" ShowBullets="@bullets" EnableSwipeGesture="@enableSwipeGesture" AutoCycle="@autocycle" TData="object">
    <MudCarouselItem Transition="transition">
        <div class="d-flex" style="height:100%; width:100%;">
            <MudImage Src="images/CodelineStore.jpg" Alt="Photo 1" Class="mx-auto my-auto" Style="width:80%; height:100%; object-fit:fill;" />
        </div>
    </MudCarouselItem>
    <MudCarouselItem Transition="transition">
        <div class="d-flex" style="height:100%; width:100%;">
            <MudImage Src="images/Carousel2.jpg" Alt="Photo 2" Class="mx-auto my-auto" Style="width:80%; height:100%; object-fit:fill;" />
        </div>
    </MudCarouselItem>
    <MudCarouselItem Transition="transition">
        <div class="d-flex" style="height:100%; width:100%;">
            <MudImage Src="images/Carousel3.jpg" Alt="Photo 3" Class="mx-auto my-auto" Style="width:80%; height:100%; object-fit:fill;" />
        </div>
    </MudCarouselItem>
    <MudCarouselItem Transition="transition">
        <div class="d-flex" style="height:100%; width:100%;">
            <MudImage Src="images/Carousel1.jpg" Alt="Photo 3" Class="mx-auto my-auto" Style="width:80%; height:100%; object-fit:fill;" />
        </div>
    </MudCarouselItem>
</MudCarousel>

<!-- Divider Line -->
<MudDivider Style="margin: 40px 0;" />

<h1>Top Categories</h1>

<MudGrid Justify="Justify.Center" Spacing="3" Style="margin-top: 20px;">
    <!-- Category 1 -->
    <MudItem xs="6" sm="3">
        <MudCard>
            <MudCardMedia Image="images/Furniture.jpg" Height="200" />
            <MudCardContent>
                <MudText Typo="Typo.h5">Furniture</MudText>
                <MudText Typo="Typo.body2">Explore our wide range of furniture for your living room, bedroom, and office space.</MudText>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="() => NavigateToCategory(FurnitureCategoryId)">
                    Shop Furniture
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>

    <!-- Category 2 -->
    <MudItem xs="6" sm="3">
        <MudCard>
            <MudCardMedia Image="images/Electronics.jpg" Height="200" />
            <MudCardContent>
                <MudText Typo="Typo.h5">Electronics</MudText>
                <MudText Typo="Typo.body2">Discover the latest gadgets and electronics. From smartphones to smart home devices, we've got it all.</MudText>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="() => NavigateToCategory(ElectronicsCategoryId)">
                    Shop Electronics
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>

    <!-- Category 3 -->
    <MudItem xs="6" sm="3">
        <MudCard>
            <MudCardMedia Image="images/Clothing.jpg" Height="200" />
            <MudCardContent>
                <MudText Typo="Typo.h5">Clothing</MudText>
                <MudText Typo="Typo.body2">Find the latest trends in fashion. From casual wear to formal outfits, we have something for everyone.</MudText>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="() => NavigateToCategory(ClothingCategoryId)">
                    Shop Clothing
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>
</MudGrid>

<MudGrid Justify="Justify.Center" Spacing="3" Style="margin-top: 20px;">
    <!-- Category 1 -->
    <MudItem xs="6" sm="3">
        <MudCard>
            <MudCardMedia Image="images/Furniture.jpg" Height="200" />
            <MudCardContent>
                <MudText Typo="Typo.h5">Furniture</MudText>
                <MudText Typo="Typo.body2">Explore our wide range of furniture for your living room, bedroom, and office space.</MudText>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="() => NavigateToCategory(FurnitureCategoryId)">
                    Shop Furniture
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>

    <!-- Category 2 -->
    <MudItem xs="6" sm="3">
        <MudCard>
            <MudCardMedia Image="images/Electronics.jpg" Height="200" />
            <MudCardContent>
                <MudText Typo="Typo.h5">Electronics</MudText>
                <MudText Typo="Typo.body2">Discover the latest gadgets and electronics. From smartphones to smart home devices, we've got it all.</MudText>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="() => NavigateToCategory(ElectronicsCategoryId)">
                    Shop Electronics
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>

    <!-- Category 3 -->
    <MudItem xs="6" sm="3">
        <MudCard>
            <MudCardMedia Image="images/Clothing.jpg" Height="200" />
            <MudCardContent>
                <MudText Typo="Typo.h5">Clothing</MudText>
                <MudText Typo="Typo.body2">Find the latest trends in fashion. From casual wear to formal outfits, we have something for everyone.</MudText>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="() => NavigateToCategory(ClothingCategoryId)">
                    Shop Clothing
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>
</MudGrid>

<!-- Divider Line -->
<MudDivider Style="margin: 40px 0;" />

<h1>Top Brands</h1>

<MudGrid Justify="Justify.Center" Spacing="3" Style="margin-top: 20px;">
    <!-- Apple -->
    <MudItem xs="6" sm="3">
        <MudCard>
            <MudCardMedia Image="images/Apple.png" Height="150" Style="border-radius: 50%; width: 150px; height: 150px; object-fit: cover; margin: 10px auto;" />
            <MudCardActions Style="justify-content: center;">
                <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="() => NavigateToSellerInfo(1)">
                    Apple
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>

    <!-- Samsung -->
    <MudItem xs="6" sm="3">
        <MudCard>
            <MudCardMedia Image="images/Samsung.png" Height="150" Style="border-radius: 50%; width: 150px; height: 150px; object-fit: cover; margin: 10px auto;" />
            <MudCardActions Style="justify-content: center;">
                <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="() => NavigateToSellerInfo(2)">
                    Samsung
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>

    <!-- Nike -->
    <MudItem xs="6" sm="3">
        <MudCard>
            <MudCardMedia Image="images/Nike.png" Height="150" Style="border-radius: 50%; width: 150px; height: 150px; object-fit: cover; margin: 10px auto;" />
            <MudCardActions Style="justify-content: center;">
                <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="() => NavigateToSellerInfo(3)">
                    Nike
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>
</MudGrid>

<MudGrid Justify="Justify.Center" Spacing="3" Style="margin-top: 20px;">
    <!-- Adidas -->
    <MudItem xs="6" sm="3">
        <MudCard>
            <MudCardMedia Image="images/Adidas.png" Height="150" Style="border-radius: 50%; width: 150px; height: 150px; object-fit: cover; margin: 10px auto;" />
            <MudCardActions Style="justify-content: center;">
                <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="() => NavigateToSellerInfo(4)">
                    Adidas
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>

    <!-- Zara -->
    <MudItem xs="6" sm="3">
        <MudCard>
            <MudCardMedia Image="images/Zara.png" Height="150" Style="border-radius: 50%; width: 150px; height: 150px; object-fit: cover; margin: 10px auto;" />
            <MudCardActions Style="justify-content: center;">
                <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="() => NavigateToSellerInfo(5)">
                    Zara
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>

    <!-- Dell -->
    <MudItem xs="6" sm="3">
        <MudCard>
            <MudCardMedia Image="images/Dell.png" Height="150" Style="border-radius: 50%; width: 150px; height: 150px; object-fit: cover; margin: 10px auto;" />
            <MudCardActions Style="justify-content: center;">
                <MudButton Variant="Variant.Text" Color="Color.Primary" OnClick="() => NavigateToSellerInfo(6)">
                    Dell
                </MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>
</MudGrid>

<!-- Divider Line -->
<MudDivider Style="margin: 40px 0;" />

@code {
    private bool arrows = true;
    private bool bullets = true;
    private bool enableSwipeGesture = true;
    private bool autocycle = true;
    private Transition transition = Transition.Slide;
    private List<Category> categories;
    private int ElectronicsCategoryId = 1;
    private int FurnitureCategoryId = 2;
    private int ClothingCategoryId = 3;

    protected override async Task OnInitializedAsync()
    {
        try
        {
            // Fetch categories from the database
            categories = await DbContext.Categories.ToListAsync();
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Error fetching categories: {ex.Message}");
        }
    }

    private void NavigateToCategory(int categoryId)
    {
        // Navigate to the selected category page
        Navigation.NavigateTo($"/ProductCategory/{categoryId}");
    }

    private void NavigateToSellerInfo(int sellerId)
    {
        // Navigate to the seller info page using the sellerId
        Navigation.NavigateTo($"/SellerInfo/{sellerId}");
    }
}